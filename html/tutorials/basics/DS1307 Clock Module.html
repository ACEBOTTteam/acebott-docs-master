<!DOCTYPE html>
<html class="writer-html4" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DS1307 Clock Module &mdash; mPython掌控 2.2.2 文档</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
      <script>
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'2.2.2',
              LANGUAGE:'zh_CN',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/translations.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="输入类" href="../advance/index.html" />
    <link rel="prev" title="130 DC Motor Module" href="130 DC Motor Module.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.2.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Starter Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../kit/kit/index.html">Explorer Series</a></li>
</ul>
<p class="caption"><span class="caption-text">Controller Board</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../board/Arduino/index.html">Arduino控制板</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/ESP32/index.html">ESP32控制板</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/Microbit/index.html">Microbit控制板</a></li>
</ul>
<p class="caption"><span class="caption-text">Module</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">输出类</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="130 DC Motor Module.html">130 DC Motor Module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">DS1307 Clock Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#product-introduction">一、Product Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameter-specification">二、Parameter Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wiring-diagram">三、Wiring Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-program">四、Sample Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-result">五、Test Result</a></li>
<li class="toctree-l3"><a class="reference internal" href="#related-resources">六、Related Resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advance/index.html">输入类</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">mPython掌控</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">输出类</a></li>
      <li class="breadcrumb-item active">DS1307 Clock Module</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="ds1307-clock-module">
<h1>DS1307 Clock Module<a class="headerlink" href="#ds1307-clock-module" title="永久链接至标题">¶</a></h1>
<div class="section" id="product-introduction">
<h2>一、Product Introduction<a class="headerlink" href="#product-introduction" title="永久链接至标题">¶</a></h2>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/DS1307-1.png"><img alt="../../_images/DS1307-1.png" src="../../_images/DS1307-1.png" style="width: 300px; height: 200px;" /></a>
</div>
<p>The DS1307 is a common real-time clock (RTC) module that integrates clock and calendar functions and provides accurate time and date information.
It is often used with a controller to get an accurate timestamp or perform timed tasks when there is no network connection.</p>
<p>The DS1307 module uses the I2C bus for communication and can be connected to the I2C bus of the microcontroller.
It contains a 32kHz real-time clock crystal to provide a high precision time reference.
The module also has a battery backup power interface to keep time data stable when the main power is disconnected.
The DS1307 module stores the year, month, date, hour, minute and second information, which can be set and obtained by reading and writing registers.</p>
<p>Application reference: electronic clocks, timers, timing switches, temperature monitoring and other scenarios that need to achieve accurate time.</p>
</div>
<div class="section" id="parameter-specification">
<h2>二、Parameter Specification<a class="headerlink" href="#parameter-specification" title="永久链接至标题">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Value/Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Operating voltage</td>
<td>5V</td>
</tr>
<tr class="row-odd"><td>Operating temperature</td>
<td>-40°C~+85°C</td>
</tr>
<tr class="row-even"><td>Storage capacity</td>
<td>56Byte</td>
</tr>
<tr class="row-odd"><td>Clock frequency</td>
<td>32.768KHz</td>
</tr>
<tr class="row-even"><td>Communication mode</td>
<td>IIC</td>
</tr>
<tr class="row-odd"><td>Size</td>
<td>4.72cm*2.38cm</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="wiring-diagram">
<h2>三、Wiring Diagram<a class="headerlink" href="#wiring-diagram" title="永久链接至标题">¶</a></h2>
<div class="figure align-center">
<img alt="../../_images/DS1307-2.png" src="../../_images/DS1307-2.png" />
</div>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">PIR Motion Sensor</th>
<th class="head">UNO</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>VCC</td>
<td>5V</td>
</tr>
<tr class="row-odd"><td>GND</td>
<td>GND</td>
</tr>
<tr class="row-even"><td>SCL</td>
<td>SCL</td>
</tr>
<tr class="row-odd"><td>SDA</td>
<td>SDA</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sample-program">
<h2>四、Sample Program<a class="headerlink" href="#sample-program" title="永久链接至标题">¶</a></h2>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">acebott</span><span class="o">.</span><span class="n">com</span>
<span class="c1">#include &lt;RtcDS1307.h&gt; // Includes RtcDS1307 library</span>
<span class="c1">#include &lt;Wire.h&gt;    // Includes Wire library for I2C communication</span>
<span class="n">volatile</span> <span class="nb">int</span> <span class="n">year</span><span class="p">;</span>
<span class="n">volatile</span> <span class="nb">int</span> <span class="n">month</span><span class="p">;</span>
<span class="n">volatile</span> <span class="nb">int</span> <span class="n">day</span><span class="p">;</span>
<span class="n">volatile</span> <span class="nb">int</span> <span class="n">hour</span><span class="p">;</span>
<span class="n">volatile</span> <span class="nb">int</span> <span class="n">minute</span><span class="p">;</span>
<span class="n">volatile</span> <span class="nb">int</span> <span class="n">second</span><span class="p">;</span>
<span class="n">RtcDS1307</span><span class="o">&lt;</span><span class="n">TwoWire</span><span class="o">&gt;</span> <span class="n">Rtc</span><span class="p">(</span><span class="n">Wire</span><span class="p">);</span>
 <span class="o">//</span> <span class="n">Create</span> <span class="n">RtcDS1307</span> <span class="nb">object</span> <span class="k">for</span> <span class="n">I2C</span> <span class="n">communication</span> <span class="n">using</span> <span class="n">Wire</span> <span class="n">library</span>
<span class="n">void</span> <span class="n">setup</span><span class="p">(){</span>
  <span class="n">year</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">month</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">day</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">hour</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">minute</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">second</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">Rtc</span><span class="o">.</span><span class="n">Begin</span><span class="p">();</span> <span class="o">//</span> <span class="n">Initialize</span> <span class="n">RtcDS1307</span>
  <span class="n">Rtc</span><span class="o">.</span><span class="n">SetIsRunning</span><span class="p">(</span><span class="n">true</span><span class="p">);</span> <span class="o">//</span> <span class="n">Start</span> <span class="n">the</span> <span class="n">DS1307</span> <span class="n">real</span><span class="o">-</span><span class="n">time</span> <span class="n">clock</span>
  <span class="n">Rtc</span><span class="o">.</span><span class="n">SetDateTime</span><span class="p">(</span><span class="n">RtcDateTime</span><span class="p">(</span><span class="n">__DATE__</span><span class="p">,</span> <span class="n">__TIME__</span><span class="p">));</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">of</span> <span class="n">the</span> <span class="n">DS1307</span> <span class="n">to</span> <span class="n">the</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">at</span> <span class="nb">compile</span> <span class="n">time</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span> <span class="o">//</span> <span class="n">Initialize</span> <span class="n">serial</span> <span class="n">communications</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">loop</span><span class="p">(){</span>
  <span class="o">//</span> <span class="n">Get</span> <span class="n">the</span> <span class="n">current</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">DS1307</span> <span class="n">real</span><span class="o">-</span><span class="n">time</span> <span class="n">clock</span>
  <span class="n">year</span> <span class="o">=</span> <span class="n">Rtc</span><span class="o">.</span><span class="n">GetDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">Year</span><span class="p">();</span>
  <span class="n">month</span> <span class="o">=</span> <span class="n">Rtc</span><span class="o">.</span><span class="n">GetDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">Month</span><span class="p">();</span>
  <span class="n">day</span> <span class="o">=</span> <span class="n">Rtc</span><span class="o">.</span><span class="n">GetDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">Day</span><span class="p">();</span>
  <span class="n">hour</span> <span class="o">=</span> <span class="n">Rtc</span><span class="o">.</span><span class="n">GetDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">Hour</span><span class="p">();</span>
  <span class="n">minute</span> <span class="o">=</span> <span class="n">Rtc</span><span class="o">.</span><span class="n">GetDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">Minute</span><span class="p">();</span>
  <span class="n">second</span> <span class="o">=</span> <span class="n">Rtc</span><span class="o">.</span><span class="n">GetDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">Second</span><span class="p">();</span>
  <span class="o">//</span> <span class="n">Print</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">to</span> <span class="n">serial</span> <span class="n">port</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s2">&quot;Year&quot;</span><span class="p">))</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">month</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s2">&quot;Month&quot;</span><span class="p">))</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">day</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s2">&quot;Day&quot;</span><span class="p">))));</span>
  <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">hour</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s2">&quot;：&quot;</span><span class="p">))</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">minute</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s2">&quot;：&quot;</span><span class="p">))</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">second</span><span class="p">)));</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="o">//</span> <span class="mi">1</span> <span class="n">second</span> <span class="n">delay</span> <span class="n">to</span> <span class="n">control</span> <span class="n">output</span> <span class="n">frequency</span>

<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="test-result">
<h2>五、Test Result<a class="headerlink" href="#test-result" title="永久链接至标题">¶</a></h2>
<p>After uploading the code to the controller board, open the serial port monitor of the Arduino IDE and set the baud rate to 9600.</p>
<p>The serial port will print out the current time.</p>
<div class="figure align-center">
<img alt="../../_images/DS1307-3.png" src="../../_images/DS1307-3.png" />
</div>
<div class="figure align-center">
<img alt="../../_images/DS1307-4.png" src="../../_images/DS1307-4.png" />
</div>
</div>
<div class="section" id="related-resources">
<h2>六、Related Resources<a class="headerlink" href="#related-resources" title="永久链接至标题">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="130 DC Motor Module.html" class="btn btn-neutral float-left" title="130 DC Motor Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../advance/index.html" class="btn btn-neutral float-right" title="输入类" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2023 labplus.All Rights Reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-XXXXXXX-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>