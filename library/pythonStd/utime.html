<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>time – 时间相关函数 &mdash; ACEBOTT 2.2.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
          </a>
              <div class="version">
                2.2.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting%20started/Arduino/index.html">Arduino</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting%20started/ESP32/index.html">ESP32/ESP8266</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting%20started/Microbit/index.html">Microbit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting%20started/ACECode%28Blockly%20Programming%29/index.html">ACECode</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Starter Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../kit/Explorer%20Series/index.html">Explorer Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kit/STEM%20Education%20Series/index.html">STEM Education Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kit/Inventor%20Series/index.html">Inventor Series</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Controller Board</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../board/ESP32/index.html">ESP32/ESP8266</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/Arduino/index.html">Arduino</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/Microbit/index.html">Microbit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Electronic Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/Sensor/index.html">Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/Module/index.html">Module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ACEBOTT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">time</span></code> – 时间相关函数</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-time">
<span id="time"></span><h1><a class="reference internal" href="#module-time" title="time: 时间相关函数"><code class="xref py py-mod docutils literal notranslate"><span class="pre">time</span></code></a> – 时间相关函数<a class="headerlink" href="#module-time" title="Permalink to this heading"></a></h1>
<p>这个模块实现了相应 <a class="reference internal" href="../../reference/glossary.html#term-CPython"><span class="xref std std-term">CPython</span></a> 模块的一个子集，如下所述。有关更多信息，请参阅原始CPython文档: <a class="reference external" href="https://docs.python.org/3.5/library/time.html#module-time">time</a></p>
<p><code class="docutils literal notranslate"><span class="pre">time</span></code> 模块提供用于获取当前时间和日期、测量时间间隔和延迟的函数。</p>
<p><strong>Time Epoch</strong>: Unix端口使用1970-01-01 00:00-00:00 UTC的POSIX系统时间的标准。但是，内嵌端口使用 <code class="docutils literal notranslate"><span class="pre">2000-01-01</span> <span class="pre">00:00:00</span> <span class="pre">UTC</span></code> 的时间。</p>
<p><strong>维护实际日历日期/时间</strong>: 这需要实时通信（RTC）。在具备底层OS的系统中，RTC可能是隐式的。设置和维护实际日历时间应是OS/RTOS的职能，
且在MicroPython之外完成，只使用OS API查询日期/时间。在baremetal端口中，系统时间取决于 <code class="docutils literal notranslate"><span class="pre">machine.RTC()</span></code> 对象。
当前日历时间可能使用 <code class="docutils literal notranslate"><span class="pre">machine.RTC().datetime(tuple)</span></code> 函数来设置，并通过以下方式维护:</p>
<ul class="simple">
<li><p>由一个备用电池（对于特定板而言，可能是一个额外的可选组件）。</p></li>
<li><p>使用网络时间协议（需要通过一个端口/用户安装）。</p></li>
<li><p>每次开启电源都进行手动设置（许多板通过硬复位维护RTC时间，尽管有些可能需要在此情况下重新设置）。</p></li>
</ul>
<p>若实际日历时间未使用系统/MicroPython RTC 维护，需引用当前绝对时间的函数可能与预期不符。</p>
<div class="section" id="id2">
<h2>函数<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="time.localtime">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">localtime</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">secs</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#time.localtime" title="Permalink to this definition"></a></dt>
<dd><p>将一个以秒计的时间转换为一个包含下列内容的8元组：（年、月、日、小时、分钟、秒、一周中某日、一年中某日）。若未给定秒或为None，则使用RTC时间。</p>
<ul class="simple">
<li><p>年包括世纪（例如2014）</p></li>
<li><p>月为 1-12</p></li>
<li><p>日为 1-31</p></li>
<li><p>小时为 0-23</p></li>
<li><p>分钟为 0-59</p></li>
<li><p>秒钟 0-59</p></li>
<li><p>周中某日为 0-6 （对应周一到周日）</p></li>
<li><p>年中某日为 1-366</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()</span>
<span class="go">(2019, 5, 27, 16, 48, 45, 0, 147)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="mi">611220968</span><span class="p">)</span>
<span class="go">(2019, 5, 15, 7, 36, 8, 2, 135)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.mktime">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">mktime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#time.mktime" title="Permalink to this definition"></a></dt>
<dd><p>此为 <code class="docutils literal notranslate"><span class="pre">localtime()</span></code> 的逆函数，其参数为一个表示本地时间的8元组。返回一个表示2000年1月1日以来的秒钟的整数。</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">data_tuple</span><span class="p">)</span>
<span class="go">599616000</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.sleep">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">sleep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#time.sleep" title="Permalink to this definition"></a></dt>
<dd><p>休眠给定秒数的时间。秒钟数可为一个表示休眠时间的浮点数。注意：其他端口可能不接受浮点参数，为满足兼容性，使用 <code class="docutils literal notranslate"><span class="pre">sleep_ms()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">sleep_us()</span></code> 函数。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.sleep_ms">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">sleep_ms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#time.sleep_ms" title="Permalink to this definition"></a></dt>
<dd><p>延迟给定毫秒数，应为正数或0。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.sleep_us">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">sleep_us</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">us</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#time.sleep_us" title="Permalink to this definition"></a></dt>
<dd><p>延迟给定的微秒数，应为正数或0。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.ticks_ms">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">ticks_ms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#time.ticks_ms" title="Permalink to this definition"></a></dt>
<dd><p>用在某些值（未指定）后结束后的任意引用点返回一个递增的毫秒计数器。该值应被视为不透明的，且仅适用于ticks_diff()。</p>
<dl class="simple">
<dt>自动换行值未显式显示，但为简化讨论，我们将其称为 <em>TICKS_MAX</em> 。 该值的周期为  <em>TICKS_PERIOD = TICKS_MAX + 1</em> 。</dt><dd><dl class="simple">
<dt><em>TICKS_PERIOD</em> 须为2的幂，但也会因端口不同而不同。同一周期值用于 <cite>ticks_ms()</cite> 、 <cite>ticks_us()</cite> 、</dt><dd><p><cite>ticks_cpu()</cite> 函数（为简单起见）。因此，这些函数将返回一个介于 <em>[0 .. TICKS_MAX]</em> 的值，包括 <em>TICKS_PERIOD</em> 值。</p>
</dd>
</dl>
</dd>
</dl>
<p>注意：仅使用非负值。多数情况下，您应将这些函数返回的值视为透明。对之唯一可用的操作为下述的 <cite>ticks_diff()</cite> 和 <cite>ticks_add()</cite> 函数。</p>
<p>注意：在这些值上直接执行标准的数学操作(+, -)或关系运算符(&lt;, &lt;=, &gt;, &gt;=)将导致无效的结果。
执行数字操作，并将结果作为参数传递给 <code class="docutils literal notranslate"><span class="pre">ticks_diff()</span></code> 或 <code class="docutils literal notranslate"><span class="pre">ticks_add()</span></code> 将导致后一个函数的无效结果。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.ticks_us">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">ticks_us</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#time.ticks_us" title="Permalink to this definition"></a></dt>
<dd><p>正如上述的 <code class="docutils literal notranslate"><span class="pre">ticks_ms</span></code> ，但以微秒为单位。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.ticks_cpu">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">ticks_cpu</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#time.ticks_cpu" title="Permalink to this definition"></a></dt>
<dd><p>与 <code class="docutils literal notranslate"><span class="pre">ticks_ms</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ticks_us</span></code> 相似，但有更高的分辨率（通常CPU时钟）。</p>
<p>这通常是CPU时钟，这也就是该函数如此命名的原因。但是并非必须为CPU时钟，系统中其他可用的定时源
（例如高分辨率计时器）也可作为替代。该函数确切的定时单元（分辨率）未在 <code class="docutils literal notranslate"><span class="pre">time</span></code> 模块层指定，
但是特定端口的文档可能提供更多具体信息。此函数设计用于非常精细的基准测试或非常紧凑的实时循环。请避免在可移植的程序编码中使用。</p>
<p>可用性：并非每个端口都可以实现该函数。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.ticks_add">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">ticks_add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ticks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#time.ticks_add" title="Permalink to this definition"></a></dt>
<dd><p>用一个给定数字来抵消ticks值，该数字可为正或负。给定一个 <em>ticks</em> 值，该函数允许计算之前或之后的ticks value  <em>delta</em>  ticks，
并遵循ticks值的模块化算术定义（见上 <cite>ticks_ms()</cite> ）。Ticks参数须为调用 <cite>ticks_ms()</cite> 、 <cite>ticks_us()</cite> 、 <cite>ticks_cpu()</cite> 函数
（或先前调用的 <cite>ticks_add()</cite> ）的直接结果。但是，delta可为一个任意整数或一个数字表达。 <cite>ticks_add()</cite> 对计算事件/任务的截止时间非常有用。
（注意：您必须使用 <cite>ticks_diff()</cite> 函数来处理截止时间。）</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find out what ticks value there was 100ms ago 找到100ms前的ticks值</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ticks_add</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ticks_ms</span><span class="p">(),</span> <span class="o">-</span><span class="mi">100</span><span class="p">))</span>

<span class="c1"># Calculate deadline for operation and test for it 计算操作和测试的截止时间</span>
<span class="n">deadline</span> <span class="o">=</span> <span class="n">ticks_add</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ticks_ms</span><span class="p">(),</span> <span class="mi">200</span><span class="p">)</span>
<span class="k">while</span> <span class="n">ticks_diff</span><span class="p">(</span><span class="n">deadline</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">ticks_ms</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">do_a_little_of_something</span><span class="p">()</span>

<span class="c1"># Find out TICKS_MAX used by this port 找到该端口使用的TICKS_MAX</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ticks_add</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.ticks_diff">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">ticks_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ticks1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ticks2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#time.ticks_diff" title="Permalink to this definition"></a></dt>
<dd><p>测量连续调用ticks_ms()、ticks_us()、icks_cpu()间的周期。
由这些函数返回的值可能在任何时间停止，因此并不支持直接减去这些值，应使用ticks_diff()。
“旧”值实际上应及时覆盖“新”值，否则结果将未定义。该函数不应用于测量任意周期长的时间（因为ticks_*()函数包括且通常有短周期）。
预期使用模式是使用超时实现事件轮询：</p>
<p>参数顺序与减法操作符相同， <code class="docutils literal notranslate"><span class="pre">ticks_diff(ticks1,</span> <span class="pre">ticks2)</span></code> 与 <code class="docutils literal notranslate"><span class="pre">ticks1</span> <span class="pre">-</span> <span class="pre">ticks2</span></code> 意义相同。
但是，函数可能会围绕由 <cite>ticks_ms()</cite> 返回的值，因此在此使用减法将会产生错误结果。于是 <cite>ticks_diff()</cite> 应运而生，
即使在环绕值情况下，它也能实现模块化（或者更确切地说，ring）算法生成正确值（只要它们之间的距离不太远，见下）。
该函数返回介于[ <em>-TICKS_PERIOD/2 ..TICKS_PERIOD/2-1</em> ]的有符号整数值（这是两个互补的二进制整数的典型范围定义）。
若该结果为负，则意味着 <em>ticks1</em> 发生在 <em>ticks2</em> 之前。否则，则意味着 <em>ticks1</em> 发生在 <em>ticks2</em> 之后。
这只在距离彼此不超过 <em>TICKS_PERIOD/2-1</em>  ticks时成立。若未成立，则将返回错误结果。特别地，
若两个tick值距离 <em>TICKS_PERIOD/2-1 ticks</em> ，则该值将由此函数返回。但是，若在其之间传递实时ticks的 <em>TICKS_PERIOD/2</em> ，
该函数会返回 <em>TICKS_PERIOD/2</em> ，也就是说，结果值将会绕到可能值的负范围内。</p>
<p>上述限制的常用原理：假设您被锁在一个房间里，只有一个标准12级时钟来记录时间进程。若您现在看一下表，
并在接下来的13个小时中不再查看时间（例如您可能睡了很久），然后当您再次看表时，对您来说只过了1小时。
为避免这种错误，请定时查看时间。您的应用程序也应如此。“睡太久”的比喻直接影射应用程序的行为：
请勿让您的应用程序运行单一程序过久。按步骤运行任务，并在步骤进行时计时。</p>
<p><cite>ticks_diff()</cite> 设计适用于各种使用模式，其中包括:</p>
<ul>
<li><p>使用超时轮询。在此种情况下，事件顺序已知，您只需处理 <cite>ticks_diff()</cite> 的正结果:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Wait for GPIO pin to be asserted, but at most 500us 等待GPIO注脚确认，单最多等待500us</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">ticks_us</span><span class="p">()</span>
<span class="k">while</span> <span class="n">pin</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">ticks_diff</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ticks_us</span><span class="p">(),</span> <span class="n">start</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TimeoutError</span>
</pre></div>
</div>
</li>
<li><p>安排事件。在此种情况下，若某一事件超期，则 <cite>ticks_diff()</cite> 的结果可能为负:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This code snippet is not optimized 这一代码片段没有经过优化</span>
<span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">ticks_ms</span><span class="p">()</span>
<span class="n">scheduled_time</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">scheduled_time</span><span class="p">()</span>
<span class="k">if</span> <span class="n">ticks_diff</span><span class="p">(</span><span class="n">now</span><span class="p">,</span> <span class="n">scheduled_time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Too early, let&#39;s nap&quot;</span><span class="p">)</span>
    <span class="n">sleep_ms</span><span class="p">(</span><span class="n">ticks_diff</span><span class="p">(</span><span class="n">now</span><span class="p">,</span> <span class="n">scheduled_time</span><span class="p">))</span>
    <span class="n">task</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">ticks_diff</span><span class="p">(</span><span class="n">now</span><span class="p">,</span> <span class="n">scheduled_time</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Right at time!&quot;</span><span class="p">)</span>
    <span class="n">task</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">ticks_diff</span><span class="p">(</span><span class="n">now</span><span class="p">,</span> <span class="n">scheduled_time</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Oops, running late, tell task to run faster!&quot;</span><span class="p">)</span>
    <span class="n">task</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">run_faster</span><span class="o">=</span><span class="n">true</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>注意：请勿将 <cite>time()</cite> 值传递给 <cite>ticks_diff()</cite> ，您应在此使用正常的数学运算。但是请注意 <cite>time()</cite> 可能（且将会）溢出。这被称为 <a class="reference external" href="https://en.wikipedia.org/wiki/Year_2038_problem">https://en.wikipedia.org/wiki/Year_2038_problem</a> .</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="time.time">
<span class="sig-prename descclassname"><span class="pre">time.</span></span><span class="sig-name descname"><span class="pre">time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#time.time" title="Permalink to this definition"></a></dt>
<dd><p>假设底层RTC是按照上述设置和维护的，则返回整数形式的秒钟数。若RTC未设定，该函数将返回一个特定于端口的引用点的秒数
（对无电池支持的RTC的嵌入式电路板而言，通常在电源启动或复位后）。若您想开发可移植的MicroPython应用程序，
您不应依赖该函数来提供高于第二精度的结果。若您需要更高精度，请使用 <code class="docutils literal notranslate"><span class="pre">ticks_ms()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ticks_us()</span></code> 函数。
若您需要日历时间，无参数的 <code class="docutils literal notranslate"><span class="pre">localtime()</span></code> 不失为佳选。</p>
<div class="attention admonition">
<p class="admonition-title">Difference to CPython</p>
<p>在CPython中，该函数返回自Unix时刻，即1970-01-01 00:00 UTC始的浮点数形式的秒数，
其精度通常可达微秒。使用MicroPython时，只有Unix端口使用相同时刻，若浮点精度允许，
则返回次秒级精度。嵌入式硬件通常不具有浮点精度，可表示长时间范围和次秒级秒精度，
因此它们使用具有第二精度的整数值。某些嵌入式硬件也缺乏电池供电的RTC，
因此，返回自上次接通电源后或其他相关的制定硬件点的秒数（例：重置）。</p>
</div>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright ACEBOTT All Rights Reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-XXXXXXX-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>